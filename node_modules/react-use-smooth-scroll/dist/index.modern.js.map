{"version":3,"file":"index.modern.js","sources":["../src/index.js"],"sourcesContent":["import React, { useEffect } from 'react'\nimport styles from './styles.module.css'\n\nexport const UseEffectScroll = ({ children }) => {\n  const smoothScroll = (target, speed, smooth) => {\n    if (target === document)\n      target =\n        document.scrollingElement ||\n        document.documentElement ||\n        document.body.parentNode ||\n        document.body // cross browser support for document scrolling\n\n    let moving = false\n    let pos = target.scrollTop\n    let frame =\n      target === document.body && document.documentElement\n        ? document.documentElement\n        : target // safari is the new IE\n\n    target.addEventListener('mousewheel', scrolled, { passive: false })\n    target.addEventListener('DOMMouseScroll', scrolled, { passive: false })\n\n    function scrolled(e) {\n      e.preventDefault() // disable default scrolling\n\n      let delta = normalizeWheelDelta(e)\n\n      pos += -delta * speed\n      pos = Math.max(0, Math.min(pos, target.scrollHeight - frame.clientHeight)) // limit scrolling\n\n      if (!moving) update()\n    }\n\n    function normalizeWheelDelta(e) {\n      if (e.detail) {\n        if (e.wheelDelta)\n          return (e.wheelDelta / e.detail / 40) * (e.detail > 0 ? 1 : -1)\n        // Opera\n        else return -e.detail / 3 // Firefox\n      } else return e.wheelDelta / 120 // IE,Safari,Chrome\n    }\n\n    function update() {\n      moving = true\n\n      let delta = (pos - target.scrollTop) / smooth\n\n      target.scrollTop += delta\n\n      if (Math.abs(delta) > 0.5) requestFrame(update)\n      else moving = false\n    }\n\n    let requestFrame = (function () {\n      // requestAnimationFrame cross browser\n      return (\n        window.requestAnimationFrame ||\n        window.webkitRequestAnimationFrame ||\n        window.mozRequestAnimationFrame ||\n        window.oRequestAnimationFrame ||\n        window.msRequestAnimationFrame ||\n        function (func) {\n          window.setTimeout(func, 1000 / 50)\n        }\n      )\n    })()\n  }\n  useEffect(() => {\n    smoothScroll(document, 120, 12)\n  }, [])\n\n  return (\n    <div className={`smoothScroll ${styles.smoothScrollWrapper}`}>\n      {children}\n    </div>\n  )\n}\n"],"names":["UseEffectScroll","children","smoothScroll","target","speed","smooth","document","scrollingElement","documentElement","body","parentNode","moving","pos","scrollTop","frame","addEventListener","scrolled","passive","e","preventDefault","delta","normalizeWheelDelta","Math","max","min","scrollHeight","clientHeight","update","detail","wheelDelta","abs","requestFrame","window","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","func","setTimeout","useEffect","styles","smoothScrollWrapper"],"mappings":"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"}